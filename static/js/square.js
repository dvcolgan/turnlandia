// Generated by CoffeeScript 1.6.3
var Square;

Square = (function() {
  function Square(col, row, terrainType) {
    this.col = col;
    this.row = row;
    this.terrainType = terrainType;
  }

  Square.prototype.draw = function() {
    if (this.terrainType === 'water' || this.terrainType === 'mountains' || this.terrainType === 'forest' || this.terrainType === 'road') {
      if (!this.subTiles) {
        this.subTiles = TB.board.getSubtiles(this.col, this.row);
      }
      this.drawSubTile(this.subTiles[0][0], 0, 0);
      this.drawSubTile(this.subTiles[0][1], TB.camera.zoomedSubGridSize, 0);
      this.drawSubTile(this.subTiles[1][0], 0, TB.camera.zoomedSubGridSize);
      return this.drawSubTile(this.subTiles[1][1], TB.camera.zoomedSubGridSize, TB.camera.zoomedSubGridSize);
    }
  };

  Square.prototype.drawSubTile = function(subTile, subTileOffsetX, subTileOffsetY) {
    var screenX, screenY;
    screenX = TB.camera.worldColToScreenPosX(this.col);
    screenY = TB.camera.worldRowToScreenPosY(this.row);
    return TB.ctx.drawImage(TB.images[this.terrainType + 'Tiles'], subTile[0], subTile[1], TB.gridSize / 2, TB.gridSize / 2, screenX + subTileOffsetX, screenY + subTileOffsetY, TB.camera.zoomedSubGridSize, TB.camera.zoomedSubGridSize);
  };

  return Square;

})();
