// Generated by CoffeeScript 1.6.3
var browserMain;

browserMain = {
  players: {},
  init: function() {
    var _this = this;
    this.board = new Board('.board');
    $(document).on('needsector', '.board', function(event, x, y) {
      console.log('needsector handler ' + x + ' ' + y);
      return $.ajax({
        url: '/api/squares/' + (x * 10) + '/' + (y * 10) + '/' + ((x + 1) * 10 - 1) + '/' + ((y + 1) * 10 - 1) + '/',
        method: 'GET',
        dataType: 'json',
        success: function(data) {
          console.log('after ajax ' + x + ' ' + y);
          return _this.board.receiveSectorData(x, y, data);
        }
      });
    });
    return $.ajax({
      url: '/api/users/',
      method: 'GET',
      dataType: 'json',
      success: function(data) {
        return _this.players = data;
      }
    });
  }
};
