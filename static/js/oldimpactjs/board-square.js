// Generated by CoffeeScript 1.6.3
var _this = this;

ig.module('game.board-square').requires('impact.image', 'impact.entity').defines(function() {
  _this.BoardSquare = ig.Entity.extend({
    name: 'square',
    size: {
      x: 42,
      y: 42
    },
    offset: {
      x: 0,
      y: 0
    },
    animSheet: new ig.AnimationSheet('images/units.png', 42, 42),
    units: [],
    init: function(x, y, settings) {
      this.addAnim('0', 0.2, [0], true);
      this.addAnim('1', 0.2, [1], true);
      this.addAnim('2', 0.2, [2], true);
      this.addAnim('3', 0.2, [3], true);
      this.addAnim('4', 0.2, [4], true);
      this.currentAnim = this.anims['3'];
      return this.parent(x, y, settings);
    },
    draw: function() {
      var ctx, xOffset, yOffset;
      ctx = ig.system.context;
      ctx.fillStyle = this.color || '#88899a';
      ctx.fillRect(this.pos.x - ig.game.screen.x, this.pos.y - ig.game.screen.y, 42, 42);
      ig.game.gridImage.draw(this.pos.x - ig.game.screen.x, this.pos.y - ig.game.screen.y);
      xOffset = 16 - ig.game.screen.x;
      yOffset = 12 - ig.game.screen.y;
      if (this.wallHealth > 0) {
        ig.game.font.draw(this.wallHealth, this.pos.x + xOffset, this.pos.y + yOffset);
      } else if (this.resourceAmount > 0) {
        ig.game.font.draw(this.resourceAmount, this.pos.x + xOffset, this.pos.y + yOffset);
      }
      return this.parent();
    }
  });
  return _this.Sector = ig.Entity.extend;
});
